<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>本と旅人 アンケート</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background: #f8fafc; font-family: sans-serif; }

        /* バナー隠し用の枠 */
        .iframe-wrapper {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            opacity: 0; /* 最初は隠しておく（バナーが見えないように） */
            transition: opacity 0.5s;
        }

        /* GASを表示する本体 */
        .iframe-wrapper iframe {
            width: 100%;
            height: calc(100% + 55px); /* バナー分長く */
            margin-top: -55px;        /* バナー分上にずらす */
            border: none;
        }

        /* ローディング画面 */
        #loader {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s;
        }
        .spinner {
            width: 40px; height: 40px;
            border: 4px solid #e2e8f0;
            border-top: 4px solid #2563eb;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 10px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-text { color: #64748b; font-size: 0.9rem; }
    </style>
</head>
<body>

    <div id="loader">
        <div class="spinner"></div>
        <div class="loading-text">読み込んでいます...</div>
    </div>

    <div class="iframe-wrapper" id="content">
        <iframe 
            src="https://script.google.com/macros/s/AKfycbwO2srKCUirJNCdXYk_HCD783XbncGpgpfRyqyFGGWOKY1vynYjOYcgWKPOWlx25RbeMA/exec"
            onload="showContent()"
        ></iframe>
    </div>

    <script>
        // iframeの中身（GAS）の読み込みが完了したら実行される
        function showContent() {
            // ローディングを消す
            const loader = document.getElementById('loader');
            loader.style.opacity = '0';
            setTimeout(() => { loader.style.display = 'none'; }, 500);

            // GASを表示する
            document.getElementById('content').style.opacity = '1';
        }
    </script>

</body>
</html>
